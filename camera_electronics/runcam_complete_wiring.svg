<?xml version="1.0" encoding="UTF-8"?>
<svg viewBox="0 0 950 550" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect x="0" y="0" width="950" height="550" fill="#f8fafc"/>

  <!-- Title -->
  <text x="475" y="25" text-anchor="middle" font-size="18" font-weight="bold" fill="#1f2937" font-family="Arial, sans-serif">RunCam Split 4 V2 — Complete Wiring Diagram</text>
  <text x="475" y="45" text-anchor="middle" font-size="12" fill="#22c55e" font-family="Arial, sans-serif">With Modified DollaTek WiFi Switch (MOSFET Conversion)</text>

  <!-- Battery -->
  <g transform="translate(30, 150)">
    <rect x="0" y="0" width="90" height="130" rx="8" fill="#fef3c7" stroke="#f59e0b" stroke-width="2"/>
    <text x="45" y="22" text-anchor="middle" font-size="11" font-weight="bold" fill="#92400e" font-family="Arial, sans-serif">2S LiPo</text>
    <text x="45" y="38" text-anchor="middle" font-size="10" fill="#92400e" font-family="Arial, sans-serif">7.4V</text>
    <text x="45" y="52" text-anchor="middle" font-size="9" fill="#92400e" font-family="Arial, sans-serif">500-1000mAh</text>
    <!-- Battery terminals -->
    <rect x="20" y="65" width="50" height="18" fill="#ef4444" rx="2"/>
    <text x="45" y="78" text-anchor="middle" font-size="9" fill="white" font-weight="bold" font-family="Arial, sans-serif">+</text>
    <rect x="20" y="92" width="50" height="18" fill="#1f2937" rx="2"/>
    <text x="45" y="105" text-anchor="middle" font-size="9" fill="white" font-weight="bold" font-family="Arial, sans-serif">−</text>
    <!-- Wire connection points -->
    <circle cx="90" cy="74" r="4" fill="#ef4444"/>
    <circle cx="90" cy="101" r="4" fill="#1f2937"/>
  </g>

  <!-- Buck Converter -->
  <g transform="translate(30, 320)">
    <rect x="0" y="0" width="90" height="70" rx="6" fill="#dbeafe" stroke="#3b82f6" stroke-width="2"/>
    <text x="45" y="18" text-anchor="middle" font-size="10" font-weight="bold" fill="#1e40af" font-family="Arial, sans-serif">Buck Conv.</text>
    <text x="45" y="32" text-anchor="middle" font-size="9" fill="#1e40af" font-family="Arial, sans-serif">7.4V→5V</text>
    <!-- Input -->
    <text x="8" y="50" font-size="8" fill="#1e40af" font-family="Arial, sans-serif">IN</text>
    <circle cx="0" cy="47" r="3" fill="#ef4444"/>
    <circle cx="0" cy="58" r="3" fill="#1f2937"/>
    <!-- Output -->
    <text x="68" y="50" font-size="8" fill="#1e40af" font-family="Arial, sans-serif">OUT</text>
    <circle cx="90" cy="47" r="3" fill="#22c55e"/>
    <circle cx="90" cy="58" r="3" fill="#1f2937"/>
  </g>

  <!-- Wire from battery to buck converter input -->
  <path d="M 30 253 L 15 253 L 15 367 L 30 367" stroke="#ef4444" stroke-width="2" fill="none"/>
  <path d="M 30 271 L 10 271 L 10 378 L 30 378" stroke="#1f2937" stroke-width="2" fill="none"/>

  <!-- Modified DollaTek Module -->
  <g transform="translate(150, 130)">
    <rect x="0" y="0" width="160" height="260" rx="8" fill="#ecfdf5" stroke="#22c55e" stroke-width="2"/>
    <text x="80" y="22" text-anchor="middle" font-size="11" font-weight="bold" fill="#166534" font-family="Arial, sans-serif">Modified DollaTek</text>
    <text x="80" y="38" text-anchor="middle" font-size="10" fill="#166534" font-family="Arial, sans-serif">WiFi Switch</text>
    <text x="80" y="52" text-anchor="middle" font-size="8" fill="#15803d" font-family="Arial, sans-serif">(MOSFET Conversion)</text>

    <!-- Power input section -->
    <g transform="translate(10, 62)">
      <rect x="0" y="0" width="65" height="45" rx="4" fill="#d1fae5" stroke="#22c55e" stroke-width="1"/>
      <text x="32" y="14" text-anchor="middle" font-size="8" font-weight="bold" fill="#166534" font-family="Arial, sans-serif">5V Power</text>
      <text x="8" y="28" font-size="7" fill="#166534" font-family="Arial, sans-serif">5V+</text>
      <circle cx="0" cy="25" r="3" fill="#22c55e"/>
      <text x="8" y="40" font-size="7" fill="#166534" font-family="Arial, sans-serif">GND</text>
      <circle cx="0" cy="37" r="3" fill="#1f2937"/>
    </g>

    <!-- ESP8266 -->
    <g transform="translate(85, 62)">
      <rect x="0" y="0" width="65" height="45" rx="4" fill="#dbeafe" stroke="#3b82f6" stroke-width="1"/>
      <text x="32" y="14" text-anchor="middle" font-size="8" font-weight="bold" fill="#1e40af" font-family="Arial, sans-serif">ESP-01S</text>
      <text x="32" y="28" text-anchor="middle" font-size="7" fill="#3b82f6" font-family="Arial, sans-serif">WiFi AP</text>
      <text x="32" y="40" text-anchor="middle" font-size="7" fill="#3b82f6" font-family="Arial, sans-serif">192.168.4.1</text>
    </g>

    <!-- MOSFET section -->
    <g transform="translate(10, 120)">
      <rect x="0" y="0" width="140" height="55" rx="4" fill="#d1fae5" stroke="#22c55e" stroke-width="1"/>
      <text x="70" y="14" text-anchor="middle" font-size="8" font-weight="bold" fill="#166534" font-family="Arial, sans-serif">IRLZ44N MOSFET</text>
      <text x="70" y="28" text-anchor="middle" font-size="7" fill="#15803d" font-family="Arial, sans-serif">Solid-State Switch</text>
      <text x="70" y="42" text-anchor="middle" font-size="7" fill="#15803d" font-family="Arial, sans-serif">(G-force immune)</text>
    </g>

    <!-- Battery input (high side) -->
    <g transform="translate(10, 185)">
      <text x="0" y="10" font-size="8" fill="#166534" font-family="Arial, sans-serif">Batt+</text>
      <circle cx="0" cy="7" r="3" fill="#ef4444"/>
    </g>

    <!-- Output terminals -->
    <g transform="translate(80, 185)">
      <text x="0" y="10" font-size="8" fill="#166534" font-family="Arial, sans-serif">OUT+</text>
      <rect x="30" y="0" width="40" height="16" fill="#ef4444" rx="2"/>
      <circle cx="80" cy="8" r="4" fill="#ef4444"/>
      <text x="0" y="30" font-size="8" fill="#166534" font-family="Arial, sans-serif">OUT−</text>
      <rect x="30" y="20" width="40" height="16" fill="#1f2937" rx="2"/>
      <circle cx="80" cy="28" r="4" fill="#1f2937"/>
    </g>

    <!-- Features -->
    <text x="80" y="230" text-anchor="middle" font-size="8" fill="#22c55e" font-family="Arial, sans-serif">• 100m WiFi range</text>
    <text x="80" y="245" text-anchor="middle" font-size="8" fill="#22c55e" font-family="Arial, sans-serif">• Phone/tablet control</text>
  </g>

  <!-- Wire from buck converter to DollaTek 5V -->
  <path d="M 120 367 L 135 367 L 135 217 L 150 217" stroke="#22c55e" stroke-width="2" fill="none"/>
  <path d="M 120 378 L 140 378 L 140 229 L 150 229" stroke="#1f2937" stroke-width="2" fill="none"/>

  <!-- Wire from battery+ to DollaTek high side input -->
  <path d="M 120 224 L 135 224 L 135 322 L 150 322" stroke="#ef4444" stroke-width="2" fill="none"/>

  <!-- RunCam Split 4 Main Board -->
  <g transform="translate(370, 90)">
    <rect x="0" y="0" width="180" height="300" rx="8" fill="#dcfce7" stroke="#22c55e" stroke-width="2"/>
    <text x="90" y="22" text-anchor="middle" font-size="11" font-weight="bold" fill="#166534" font-family="Arial, sans-serif">RunCam Split 4 V2</text>
    <text x="90" y="38" text-anchor="middle" font-size="10" fill="#166534" font-family="Arial, sans-serif">Main Board</text>
    <!-- Pin labels -->
    <g transform="translate(10, 55)">
      <text x="0" y="0" font-size="9" fill="#166534" font-weight="bold" font-family="Arial, sans-serif">Pins:</text>
      <rect x="0" y="10" width="55" height="18" fill="#ef4444" rx="2"/>
      <text x="27" y="23" text-anchor="middle" font-size="8" fill="white" font-family="Arial, sans-serif">VCC (5-20V)</text>
      <circle cx="0" cy="19" r="4" fill="#ef4444"/>

      <rect x="0" y="35" width="55" height="18" fill="#1f2937" rx="2"/>
      <text x="27" y="48" text-anchor="middle" font-size="8" fill="white" font-family="Arial, sans-serif">GND</text>
      <circle cx="0" cy="44" r="4" fill="#1f2937"/>

      <rect x="0" y="60" width="55" height="18" fill="#eab308" rx="2"/>
      <text x="27" y="73" text-anchor="middle" font-size="8" fill="#1f2937" font-family="Arial, sans-serif">VIDEO</text>
      <circle cx="0" cy="69" r="4" fill="#eab308"/>

      <rect x="0" y="85" width="55" height="18" fill="#94a3b8" rx="2"/>
      <text x="27" y="98" text-anchor="middle" font-size="8" fill="white" font-family="Arial, sans-serif">TX (unused)</text>

      <rect x="0" y="110" width="55" height="18" fill="#94a3b8" rx="2"/>
      <text x="27" y="123" text-anchor="middle" font-size="8" fill="white" font-family="Arial, sans-serif">RX (unused)</text>
    </g>
    <!-- MicroSD slot -->
    <rect x="100" y="65" width="60" height="25" fill="#6b7280" rx="3"/>
    <text x="130" y="82" text-anchor="middle" font-size="8" fill="white" font-family="Arial, sans-serif">MicroSD</text>
    <!-- Buttons -->
    <circle cx="115" cy="110" r="8" fill="#3b82f6" stroke="#1d4ed8" stroke-width="1"/>
    <text x="115" y="113" text-anchor="middle" font-size="6" fill="white" font-family="Arial, sans-serif">PWR</text>
    <circle cx="145" cy="110" r="8" fill="#8b5cf6" stroke="#6d28d9" stroke-width="1"/>
    <text x="145" y="113" text-anchor="middle" font-size="6" fill="white" font-family="Arial, sans-serif">MODE</text>
    <!-- LEDs -->
    <text x="90" y="140" text-anchor="middle" font-size="8" fill="#166534" font-family="Arial, sans-serif">Status LEDs:</text>
    <circle cx="65" cy="155" r="5" fill="#3b82f6"/>
    <circle cx="85" cy="155" r="5" fill="#22c55e"/>
    <circle cx="105" cy="155" r="5" fill="#f97316"/>
    <circle cx="125" cy="155" r="5" fill="#ef4444"/>
    <text x="90" y="175" text-anchor="middle" font-size="7" fill="#166534" font-family="Arial, sans-serif">Blue blinking = Recording</text>
    <!-- Ribbon cable -->
    <rect x="60" y="200" width="60" height="12" fill="#d4d4d4" rx="2"/>
    <text x="90" y="209" text-anchor="middle" font-size="7" fill="#525252" font-family="Arial, sans-serif">Ribbon</text>
    <line x1="90" y1="212" x2="90" y2="300" stroke="#9ca3af" stroke-width="8"/>
  </g>

  <!-- Lens Module -->
  <g transform="translate(420, 410)">
    <rect x="0" y="0" width="60" height="60" rx="4" fill="#404040" stroke="#1f2937" stroke-width="2"/>
    <circle cx="30" cy="30" r="18" fill="#1f2937"/>
    <circle cx="30" cy="30" r="12" fill="#3b82f6"/>
    <circle cx="30" cy="30" r="6" fill="#1e3a5f"/>
    <text x="30" y="75" text-anchor="middle" font-size="9" fill="#374151" font-family="Arial, sans-serif">Lens Module</text>
    <text x="30" y="88" text-anchor="middle" font-size="7" fill="#6b7280" font-family="Arial, sans-serif">14x14mm nano</text>
  </g>

  <!-- Video Output Path -->
  <g transform="translate(620, 100)">
    <rect x="0" y="0" width="150" height="160" rx="8" fill="#fef2f2" stroke="#ef4444" stroke-width="2" stroke-dasharray="5,5"/>
    <text x="75" y="18" text-anchor="middle" font-size="10" font-weight="bold" fill="#dc2626" font-family="Arial, sans-serif">Configuration Only</text>
    <text x="75" y="32" text-anchor="middle" font-size="8" fill="#dc2626" font-family="Arial, sans-serif">(Not needed in flight)</text>

    <!-- RCA connector -->
    <rect x="20" y="45" width="50" height="28" fill="#eab308" rx="4"/>
    <text x="45" y="63" text-anchor="middle" font-size="8" fill="#1f2937" font-family="Arial, sans-serif">RCA</text>
    <circle cx="0" cy="59" r="4" fill="#eab308"/>

    <!-- HDMI Adapter -->
    <rect x="20" y="85" width="110" height="28" fill="#6b7280" rx="4"/>
    <text x="75" y="103" text-anchor="middle" font-size="8" fill="white" font-family="Arial, sans-serif">RCA→HDMI Adapter</text>

    <!-- Monitor -->
    <rect x="35" y="120" width="80" height="30" fill="#1f2937" rx="4"/>
    <rect x="40" y="125" width="70" height="18" fill="#60a5fa"/>
    <text x="75" y="138" text-anchor="middle" font-size="8" fill="white" font-family="Arial, sans-serif">OSD Menu</text>
  </g>

  <!-- Wires from DollaTek to Camera -->
  <path d="M 310 338 L 340 338 L 340 164 L 370 164" stroke="#ef4444" stroke-width="3" fill="none"/>
  <text x="355" y="250" font-size="7" fill="#ef4444" transform="rotate(-90, 355, 250)" font-family="Arial, sans-serif">7.4V Switched</text>
  <path d="M 310 358 L 350 358 L 350 189 L 370 189" stroke="#1f2937" stroke-width="3" fill="none"/>

  <!-- Wire from camera video to RCA -->
  <path d="M 380 214 L 360 214 L 360 280 L 600 280 L 600 159 L 620 159" stroke="#eab308" stroke-width="2" fill="none" stroke-dasharray="4,2"/>

  <!-- Phone/WiFi connection indicator -->
  <g transform="translate(800, 300)">
    <rect x="0" y="0" width="100" height="130" rx="12" fill="#f1f5f9" stroke="#cbd5e1" stroke-width="2"/>
    <rect x="10" y="10" width="80" height="90" rx="4" fill="#1e293b"/>
    <text x="50" y="35" text-anchor="middle" font-size="8" fill="#60a5fa" font-family="Arial, sans-serif">WiFi: ESP_XXX</text>
    <text x="50" y="50" text-anchor="middle" font-size="7" fill="#94a3b8" font-family="Arial, sans-serif">192.168.4.1</text>
    <rect x="15" y="60" width="70" height="30" rx="4" fill="#22c55e"/>
    <text x="50" y="80" text-anchor="middle" font-size="10" fill="white" font-weight="bold" font-family="Arial, sans-serif">ON / OFF</text>
    <circle cx="50" cy="108" r="8" fill="#1e293b"/>
    <text x="50" y="145" text-anchor="middle" font-size="9" fill="#64748b" font-family="Arial, sans-serif">Phone/Tablet</text>
  </g>

  <!-- WiFi waves -->
  <path d="M 280 250 Q 290 230 300 250" stroke="#3b82f6" stroke-width="2" fill="none"/>
  <path d="M 275 245 Q 290 215 305 245" stroke="#3b82f6" stroke-width="1.5" fill="none"/>
  <path d="M 270 240 Q 290 200 310 240" stroke="#3b82f6" stroke-width="1" fill="none"/>

  <path d="M 760 350 Q 770 330 780 350" stroke="#3b82f6" stroke-width="2" fill="none"/>
  <path d="M 755 345 Q 770 315 785 345" stroke="#3b82f6" stroke-width="1.5" fill="none"/>

  <!-- Wire Labels / Legend -->
  <g transform="translate(30, 480)">
    <rect x="0" y="0" width="900" height="60" rx="6" fill="#f1f5f9" stroke="#cbd5e1" stroke-width="1"/>
    <text x="20" y="20" font-size="11" font-weight="bold" fill="#374151" font-family="Arial, sans-serif">Wire Legend:</text>

    <line x1="20" y1="40" x2="50" y2="40" stroke="#ef4444" stroke-width="3"/>
    <text x="60" y="44" font-size="9" fill="#374151" font-family="Arial, sans-serif">Red = Power+ (7.4V)</text>

    <line x1="180" y1="40" x2="210" y2="40" stroke="#1f2937" stroke-width="3"/>
    <text x="220" y="44" font-size="9" fill="#374151" font-family="Arial, sans-serif">Black = Ground</text>

    <line x1="330" y1="40" x2="360" y2="40" stroke="#22c55e" stroke-width="3"/>
    <text x="370" y="44" font-size="9" fill="#374151" font-family="Arial, sans-serif">Green = 5V (to ESP)</text>

    <line x1="500" y1="40" x2="530" y2="40" stroke="#eab308" stroke-width="3" stroke-dasharray="4,2"/>
    <text x="540" y="44" font-size="9" fill="#374151" font-family="Arial, sans-serif">Yellow = Video (config only)</text>

    <text x="750" y="20" font-size="9" fill="#22c55e" font-family="Arial, sans-serif">✓ Solid-state switching</text>
    <text x="750" y="35" font-size="9" fill="#22c55e" font-family="Arial, sans-serif">✓ G-force immune</text>
    <text x="750" y="50" font-size="9" fill="#22c55e" font-family="Arial, sans-serif">✓ Europe-friendly parts</text>
  </g>
</svg>
